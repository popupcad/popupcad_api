<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>popupcad.guis.editor &mdash; popupCAD API</title>
    
    <link rel="stylesheet" href="../../../_static/better.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="popupCAD API" href="../../../index.html" />
    <link rel="up" title="Module code" href="../../index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  </head>
  <body>
    <header id="pageheader">
      <div class="header_inner">
        <ul class="horizontal">
          <li><a title=" popupCAD.org - software for building laminate robots" href="/" id="logo">home</a></li>
          <li><a href="/competition">design contest</a></li>
          <li><a href="/docs/download">download</a></li>
          <li><a href="/gallery/">gallery</a></li>
          <li><a href="/docs/what-is-popupcad/">docs</a></li>
          <li><a href="/tutorials/overview/">tutorials</a></li>
          <li><a href="/news/">news</a></li>
          </ul>

      </div>
      <div class="header_inner">
        <h1>
          <a href="../../../index.html ">Documentation</a>
        </h1>
      </div>
    </header>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>Source code for popupcad.guis.editor</h1><div class="highlight"><pre>
<span class="c"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">Written by Daniel M. Aukes and CONTRIBUTORS</span>
<span class="sd">Email: danaukes&lt;at&gt;seas.harvard.edu.</span>
<span class="sd">Please see LICENSE for full license.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">qt</span>
<span class="n">qc</span> <span class="o">=</span> <span class="n">qt</span><span class="o">.</span><span class="n">QtCore</span>
<span class="n">qg</span> <span class="o">=</span> <span class="n">qt</span><span class="o">.</span><span class="n">QtGui</span>
<span class="kn">import</span> <span class="nn">glob</span>
<span class="kn">import</span> <span class="nn">imp</span>

<span class="kn">import</span> <span class="nn">popupcad</span>

<span class="kn">from</span> <span class="nn">popupcad.filetypes.design</span> <span class="kn">import</span> <span class="n">Design</span>
<span class="kn">import</span> <span class="nn">popupcad.guis.actions</span>
<span class="kn">import</span> <span class="nn">popupcad.guis.icons</span>
<span class="c">#</span>

<div class="viewcode-block" id="NoOutput"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.NoOutput">[docs]</a><span class="k">class</span> <span class="nc">NoOutput</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="ne">Exception</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="s">&#39;Operation has not been processed due to a previous exception&#39;</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Editor"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor">[docs]</a><span class="k">class</span> <span class="nc">Editor</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">widgetcommon</span><span class="o">.</span><span class="n">WidgetCommon</span><span class="p">,</span> <span class="n">qg</span><span class="o">.</span><span class="n">QMainWindow</span><span class="p">):</span>

    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Editor Class</span>

<span class="sd">    The Editor is the main widget for popupCAD.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">gridchange</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">Signal</span><span class="p">()</span>
    <span class="n">operationedited</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>
    <span class="n">operationadded</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">Signal</span><span class="p">(</span><span class="nb">object</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Initialize Editor</span>

<span class="sd">        :param parent: Parent Widget(if any)</span>
<span class="sd">        :type parent: QWidget</span>
<span class="sd">        :returns:  nothing</span>
<span class="sd">        :raises: nothing</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Editor</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error_log</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">errorlog</span><span class="o">.</span><span class="n">ErrorLog</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">safe_init</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    
<div class="viewcode-block" id="Editor.safe_init"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.safe_init">[docs]</a>    <span class="k">def</span> <span class="nf">safe_init</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scene</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">graphics2d</span><span class="o">.</span><span class="n">graphicsscene</span><span class="o">.</span><span class="n">GraphicsScene</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_2d</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">graphics2d</span><span class="o">.</span><span class="n">graphicsview</span><span class="o">.</span><span class="n">GraphicsView</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_2d</span><span class="o">.</span><span class="n">scrollhand</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setCentralWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view_2d</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">setTabPosition</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AllDockWidgetAreas</span><span class="p">,</span> <span class="n">qg</span><span class="o">.</span><span class="n">QTabWidget</span><span class="o">.</span><span class="n">South</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">dragndroptree</span><span class="o">.</span><span class="n">DirectedDraggableTreeWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">enable</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">listeditor</span><span class="o">.</span><span class="n">ListSelector</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">operationdock</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationdock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationdock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AllDockWidgetAreas</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationdock</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Operations&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationdock</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidgetdock</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidgetdock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidgetdock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AllDockWidgetAreas</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidgetdock</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Layers&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">LeftDockWidgetArea</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidgetdock</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">graphics3d</span><span class="o">.</span><span class="n">gl_viewer</span><span class="o">.</span><span class="n">GLObjectViewer</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d_dock</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d_dock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view_3d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d_dock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AllDockWidgetAreas</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d_dock</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;3D Visualization&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">view_3d_dock</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">importscripts</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentRowChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showcurrentoutput_inner</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span><span class="o">.</span><span class="n">itemSelectionChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showcurrentoutput</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Editor&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">signal_edit</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">editoperation</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">newfile</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationadded</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">newoperationslot</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationedited</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">editedoperationslot</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">createActions</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backuptimer</span> <span class="o">=</span> <span class="n">qc</span><span class="o">.</span><span class="n">QTimer</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backuptimer</span><span class="o">.</span><span class="n">setInterval</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">backup_timeout</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backuptimer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">autosave</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">backuptimer</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">set_nominal_size</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">move_center</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationdock</span><span class="o">.</span><span class="n">closeEvent</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">action_uncheck</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_view_ops</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidgetdock</span><span class="o">.</span><span class="n">closeEvent</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">action_uncheck</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_view_layers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d_dock</span><span class="o">.</span><span class="n">closeEvent</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">action_uncheck</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_view_3d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="o">.</span><span class="n">closeEvent</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">event</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">action_uncheck</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_view_errors</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Editor.autosave"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.autosave">[docs]</a>    <span class="k">def</span> <span class="nf">autosave</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">backup</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">backupdir</span><span class="p">,</span><span class="s">&#39;_autosave_&#39;</span><span class="p">)</span>
    </div>
<div class="viewcode-block" id="Editor.importscripts"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.importscripts">[docs]</a>    <span class="k">def</span> <span class="nf">importscripts</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scriptclasses</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">searchstring</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">scriptdir</span><span class="p">,</span><span class="s">&#39;*.py&#39;</span><span class="p">))</span>
        <span class="n">scripts</span> <span class="o">=</span> <span class="n">glob</span><span class="o">.</span><span class="n">glob</span><span class="p">(</span><span class="n">searchstring</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">script</span> <span class="ow">in</span> <span class="n">scripts</span><span class="p">:</span>
            <span class="n">module</span> <span class="o">=</span> <span class="n">imp</span><span class="o">.</span><span class="n">load_source</span><span class="p">(</span><span class="s">&#39;module&#39;</span><span class="p">,</span> <span class="n">script</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">scriptclasses</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">module</span><span class="o">.</span><span class="n">Script</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>
    </div>
<div class="viewcode-block" id="Editor.createActions"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.createActions">[docs]</a>    <span class="k">def</span> <span class="nf">createActions</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">icons</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">guis</span><span class="o">.</span><span class="n">icons</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;&amp;New&quot;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;new&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="n">qg</span><span class="o">.</span><span class="n">QKeySequence</span><span class="o">.</span><span class="n">New</span><span class="p">,</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Create a new file&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newfile</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;&amp;Open...&quot;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;open&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="n">qg</span><span class="o">.</span><span class="n">QKeySequence</span><span class="o">.</span><span class="n">Open</span><span class="p">,</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Open an existing file&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">open</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;&amp;Save&quot;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;save&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="n">qg</span><span class="o">.</span><span class="n">QKeySequence</span><span class="o">.</span><span class="n">Save</span><span class="p">,</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Save the document to disk&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;Save &amp;As...&quot;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;save&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="n">qg</span><span class="o">.</span><span class="n">QKeySequence</span><span class="o">.</span><span class="n">SaveAs</span><span class="p">,</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Save the document under a new name&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">saveAs</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;Upgrade&quot;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Upgrade the file&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">upgrade</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Export to stl&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;export&#39;</span><span class="p">],</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Exports to a stl file&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_stl</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;Export to SVG&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;export&#39;</span><span class="p">],</span> <span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">exportLayerSVG</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Export to dxf&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;export&#39;</span><span class="p">],</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Exports to a dxf file&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_dxf</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Export layers to dxf&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;export&#39;</span><span class="p">],</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Exports to a dxf file&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_dxf_layers</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Export to dae&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;export&#39;</span><span class="p">],</span><span class="s">&#39;statusTip&#39;</span><span class="p">:</span> <span class="s">&quot;Exports to a dae file&quot;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_dae</span><span class="p">}})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;Save Joint Defs&quot;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">save_joint_def</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;Export Laminate&quot;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">export_laminate</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;Regen ID&quot;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">regen_id</span><span class="p">,</span> <span class="p">}})</span>
<span class="c">#        self.fileactions.append({&#39;text&#39;: &quot;Preferences...&quot;, &#39;kwargs&#39;: {&#39;triggered&#39;: self.preferences}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;Render Icons&quot;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">gen_icons</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;Build Documentation&quot;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">build_documentation</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;License&quot;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">show_license</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&quot;Update...&quot;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">download_installer</span><span class="p">}})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;Rebuild&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;refresh&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+R&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">reprocessoperations_outer</span><span class="p">}})</span>

        <span class="k">def</span> <span class="nf">dummy</span><span class="p">(</span><span class="n">action</span><span class="p">):</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setCheckable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_autoreprocesstoggle</span> <span class="o">=</span> <span class="n">action</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Auto Reprocess&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s">&#39;prepmethod&#39;</span><span class="p">:</span> <span class="n">dummy</span><span class="p">})</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">None</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Layer Order...&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">editlayers</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Laminate Properties...&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">editlaminate</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Sketches...&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">sketchlist</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;SubDesigns...&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">subdesigns</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Replace...&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">replace</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Insert Laminate Op and Replace...&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">insert_and_replace</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Hierarchy&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">operation_network</span><span class="p">}})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span> <span class="o">=</span> <span class="p">[]</span>

        <span class="k">def</span> <span class="nf">dummy</span><span class="p">(</span><span class="n">action</span><span class="p">):</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setCheckable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_view_3d</span> <span class="o">=</span> <span class="n">action</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;prepmethod&#39;</span><span class="p">:</span> <span class="n">dummy</span><span class="p">,</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;3D View&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;printapede&#39;</span><span class="p">],</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">showhide2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view_3d_dock</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">act_view_3d</span><span class="p">)}})</span>

        <span class="k">def</span> <span class="nf">dummy</span><span class="p">(</span><span class="n">action</span><span class="p">):</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setCheckable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_view_ops</span> <span class="o">=</span> <span class="n">action</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;prepmethod&#39;</span><span class="p">:</span> <span class="n">dummy</span><span class="p">,</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Operations&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;operations&#39;</span><span class="p">],</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">showhide2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operationdock</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">act_view_ops</span><span class="p">)}})</span>

        <span class="k">def</span> <span class="nf">dummy</span><span class="p">(</span><span class="n">action</span><span class="p">):</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setCheckable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_view_layers</span> <span class="o">=</span> <span class="n">action</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;prepmethod&#39;</span><span class="p">:</span> <span class="n">dummy</span><span class="p">,</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Layers&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;layers&#39;</span><span class="p">],</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">showhide2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidgetdock</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">act_view_layers</span><span class="p">)}})</span>

        <span class="k">def</span> <span class="nf">dummy</span><span class="p">(</span><span class="n">action</span><span class="p">):</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setCheckable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
            <span class="n">action</span><span class="o">.</span><span class="n">setChecked</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">act_view_errors</span> <span class="o">=</span> <span class="n">action</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;prepmethod&#39;</span><span class="p">:</span> <span class="n">dummy</span><span class="p">,</span> <span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Error Log&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">showhide2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_view_errors</span><span class="p">)}})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Zoom Fit&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">view_2d</span><span class="o">.</span><span class="n">zoomToFit</span><span class="p">,</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+F&#39;</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Screenshot&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">screenShot</span><span class="p">,</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+R&#39;</span><span class="p">}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;3D Screenshot&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">screenshot_3d</span><span class="p">}})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Cleanup&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;cleanup&#39;</span><span class="p">],</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">cleanup2</span><span class="o">.</span><span class="n">Cleanup2</span><span class="p">)}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;New Cleanup&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;cleanup&#39;</span><span class="p">],</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">cleanup3</span><span class="o">.</span><span class="n">Cleanup3</span><span class="p">)}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Simplify&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;simplify&#39;</span><span class="p">],</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">simplify2</span><span class="o">.</span><span class="n">Simplify2</span><span class="p">)}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;JointOp&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">joint_operation3</span><span class="o">.</span><span class="n">JointOperation3</span><span class="p">)}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;HoleOp&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">hole_operation</span><span class="o">.</span><span class="n">HoleOperation</span><span class="p">)}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Freeze&#39;</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">freeze</span><span class="o">.</span><span class="n">Freeze</span><span class="p">)}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Cross-Section&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">cross_section</span><span class="o">.</span><span class="n">CrossSection</span><span class="p">)}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;SubOp&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">sub_operation2</span><span class="o">.</span><span class="n">SubOperation2</span><span class="p">)}})</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Code Exec&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">code_exec_op</span><span class="o">.</span><span class="n">CodeExecOperation</span><span class="p">)}})</span>

        <span class="n">transform</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">transform</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Internal Transform&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;placeop&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+P&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">transform_internal</span><span class="o">.</span><span class="n">TransformInternal</span><span class="p">)}})</span>
        <span class="n">transform</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;External Transform&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;placeop&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+P&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">transform_external</span><span class="o">.</span><span class="n">TransformExternal</span><span class="p">)}})</span>
        <span class="n">transform</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;PlaceOp&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;placeop&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+P&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">placeop8</span><span class="o">.</span><span class="n">PlaceOperation8</span><span class="p">)}})</span>
        <span class="n">transform</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;L&amp;ocateOp&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;locate&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+O&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">locateoperation3</span><span class="o">.</span><span class="n">LocateOperation3</span><span class="p">)}})</span>
        <span class="n">transform</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Shift/Flip&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;shiftflip&#39;</span><span class="p">],</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">shiftflip3</span><span class="o">.</span><span class="n">ShiftFlip3</span><span class="p">)}})</span>
<span class="c">#        transform.append({&#39;text&#39;: &#39;Transform&#39;,&#39;kwargs&#39;: {&#39;triggered&#39;: lambda: self.newoperation(popupcad.manufacturing.transform.TransformOperation)}})</span>

        <span class="n">operationactions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">operationactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;SketchOp&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;polygons&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+S&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">simplesketchoperation</span><span class="o">.</span><span class="n">SimpleSketchOp</span><span class="p">)}})</span>
        <span class="n">operationactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;LaminateOp&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;metaop&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+M&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">laminateoperation2</span><span class="o">.</span><span class="n">LaminateOperation2</span><span class="p">)}})</span>
        <span class="n">operationactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;Dilate/Erode&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;bufferop&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+B&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">bufferop3</span><span class="o">.</span><span class="n">BufferOperation3</span><span class="p">)}})</span>
        <span class="n">operationactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;Transform&#39;</span><span class="p">,</span> <span class="s">&#39;submenu&#39;</span><span class="p">:</span> <span class="n">transform</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;placeop&#39;</span><span class="p">]}})</span>
        <span class="n">operationactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;&amp;LayerOp&#39;</span><span class="p">,</span><span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{</span><span class="s">&#39;icon&#39;</span><span class="p">:</span> <span class="n">icons</span><span class="p">[</span><span class="s">&#39;layerop&#39;</span><span class="p">],</span><span class="s">&#39;shortcut&#39;</span><span class="p">:</span> <span class="s">&#39;Ctrl+Shift+L&#39;</span><span class="p">,</span><span class="s">&#39;triggered&#39;</span><span class="p">:</span> <span class="k">lambda</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">newoperation</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">manufacturing</span><span class="o">.</span><span class="n">layerop2</span><span class="o">.</span><span class="n">LayerOp2</span><span class="p">)}})</span>
        <span class="n">operationactions</span><span class="o">.</span><span class="n">append</span><span class="p">({</span><span class="s">&#39;text&#39;</span><span class="p">:</span> <span class="s">&#39;More...&#39;</span><span class="p">,</span> <span class="s">&#39;submenu&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">tools1</span><span class="p">,</span> <span class="s">&#39;kwargs&#39;</span><span class="p">:</span> <span class="p">{}})</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">menu_file</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">fileactions</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;File&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menu_project</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">projectactions</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Project&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">menu_view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addMenu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">viewactions</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;View&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">toolbar_operations</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">menu_operations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">addToolbarMenu</span><span class="p">(</span><span class="n">operationactions</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Operations&#39;</span><span class="p">)</span>

<span class="c">#        menu_file = popupcad.guis.actions.build(self)</span>
<span class="c">#        menu_bar = qg.QMenuBar()</span>
<span class="c">#        menu_bar.addMenu(menu_file)</span>
<span class="c">#        self.setMenuBar(menu_bar)</span>
        
        <span class="bp">self</span><span class="o">.</span><span class="n">showhide2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">view_3d_dock</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_view_3d</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showhide2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">operationdock</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_view_ops</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showhide2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidgetdock</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_view_layers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">showhide2</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_view_errors</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Editor.operation_network"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.operation_network">[docs]</a>    <span class="k">def</span> <span class="nf">operation_network</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">popupcad.widgets.operationnetwork</span>
        <span class="n">widget</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">operationnetwork</span><span class="o">.</span><span class="n">action_method</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="n">hierarchy_dock</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QDockWidget</span><span class="p">()</span>
        <span class="n">hierarchy_dock</span><span class="o">.</span><span class="n">setWidget</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
        <span class="n">hierarchy_dock</span><span class="o">.</span><span class="n">setAllowedAreas</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">AllDockWidgetAreas</span><span class="p">)</span>
        <span class="n">hierarchy_dock</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Hierarchy&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">addDockWidget</span><span class="p">(</span><span class="n">qc</span><span class="o">.</span><span class="n">Qt</span><span class="o">.</span><span class="n">RightDockWidgetArea</span><span class="p">,</span> <span class="n">hierarchy_dock</span><span class="p">)</span>

<span class="c">#        widget.show()</span>
</div>
<div class="viewcode-block" id="Editor.get_design"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.get_design">[docs]</a>    <span class="k">def</span> <span class="nf">get_design</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span>
    </div>
<div class="viewcode-block" id="Editor.newoperation"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.newoperation">[docs]</a>    <span class="k">def</span> <span class="nf">newoperation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operationclass</span><span class="p">):</span>
        <span class="n">operationclass</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="p">,</span><span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentRow</span><span class="p">(),</span><span class="bp">self</span><span class="o">.</span><span class="n">operationadded</span><span class="p">)</span>
    </div>
<div class="viewcode-block" id="Editor.editoperation"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.editoperation">[docs]</a>    <span class="k">def</span> <span class="nf">editoperation</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
        <span class="n">operation</span><span class="o">.</span><span class="n">edit</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationedited</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Editor.regen_id"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.regen_id">[docs]</a>    <span class="k">def</span> <span class="nf">regen_id</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">regen_id</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.newoperationslot"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.newoperationslot">[docs]</a>    <span class="k">def</span> <span class="nf">newoperationslot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">operation</span><span class="p">)</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_autoreprocesstoggle</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reprocessoperations</span><span class="p">([</span><span class="n">operation</span><span class="p">])</span>
    </div>
<div class="viewcode-block" id="Editor.editedoperationslot"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.editedoperationslot">[docs]</a>    <span class="k">def</span> <span class="nf">editedoperationslot</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operation</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_autoreprocesstoggle</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reprocessoperations</span><span class="p">([</span><span class="n">operation</span><span class="p">])</span>
    </div>
<div class="viewcode-block" id="Editor.reprocessoperations_outer"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.reprocessoperations_outer">[docs]</a>    <span class="k">def</span> <span class="nf">reprocessoperations_outer</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span><span class="n">operations</span> <span class="o">=</span> <span class="bp">None</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reprocessoperations</span><span class="p">(</span><span class="n">operations</span><span class="p">)</span>
        </div>
<div class="viewcode-block" id="Editor.reprocessoperations"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.reprocessoperations">[docs]</a>    <span class="k">def</span> <span class="nf">reprocessoperations</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operations</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">reprocessoperations</span><span class="p">(</span><span class="n">operations</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showcurrentoutput</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view_2d</span><span class="o">.</span><span class="n">zoomToFit</span><span class="p">()</span>
        <span class="k">except</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">finally</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">refresh</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.newfile"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.newfile">[docs]</a>    <span class="k">def</span> <span class="nf">newfile</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">popupcad.filetypes.layerdef</span> <span class="kn">import</span> <span class="n">LayerDef</span>
        <span class="kn">import</span> <span class="nn">popupcad.filetypes.material2</span> <span class="kn">as</span> <span class="nn">materials</span>
<span class="c">#        from popupcad.materials.materials import Carbon_0_90_0, Pyralux, Kapton</span>
        <span class="n">design</span> <span class="o">=</span> <span class="n">Design</span><span class="p">()</span>
        <span class="n">design</span><span class="o">.</span><span class="n">define_layers</span><span class="p">(</span>
            <span class="n">LayerDef</span><span class="p">(</span><span class="o">*</span><span class="n">materials</span><span class="o">.</span><span class="n">default_sublaminate</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">load_design</span><span class="p">(</span><span class="n">design</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_2d</span><span class="o">.</span><span class="n">zoomToFit</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.open"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.open">[docs]</a>    <span class="k">def</span> <span class="nf">open</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">filename</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="n">design</span> <span class="o">=</span> <span class="n">Design</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">design</span> <span class="o">=</span> <span class="n">Design</span><span class="o">.</span><span class="n">load_yaml</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">design</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_design</span><span class="p">(</span><span class="n">design</span><span class="p">)</span>
            <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_autoreprocesstoggle</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">reprocessoperations</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view_2d</span><span class="o">.</span><span class="n">zoomToFit</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.save"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.save">[docs]</a>    <span class="k">def</span> <span class="nf">save</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_window_title</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">value</span>
    </div>
<div class="viewcode-block" id="Editor.saveAs"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.saveAs">[docs]</a>    <span class="k">def</span> <span class="nf">saveAs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="n">value</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">saveAs</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_window_title</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">value</span>
    </div>
<div class="viewcode-block" id="Editor.load_design"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.load_design">[docs]</a>    <span class="k">def</span> <span class="nf">load_design</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">design</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span> <span class="o">=</span> <span class="n">design</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">deleteall</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">clear3dgeometry</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">set_tree_generator</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">build_tree</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">set_get_design</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_design</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">linklist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">)</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">updatelayerlist</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span><span class="o">.</span><span class="n">selectAll</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span><span class="o">.</span><span class="n">blockSignals</span><span class="p">(</span><span class="bp">False</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">update_window_title</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.editlayers"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.editlayers">[docs]</a>    <span class="k">def</span> <span class="nf">editlayers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">available_materials</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">filetypes</span><span class="o">.</span><span class="n">material2</span><span class="o">.</span><span class="n">default_materials</span><span class="o">+</span><span class="n">popupcad</span><span class="o">.</span><span class="n">user_materials</span>
        <span class="n">window</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">materialselection</span><span class="o">.</span><span class="n">MaterialSelection</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">()</span><span class="o">.</span><span class="n">layers</span><span class="p">,</span>
            <span class="n">available_materials</span><span class="p">,</span>
            <span class="bp">self</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">window</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">window</span><span class="o">.</span><span class="n">Accepted</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">define_layers</span><span class="p">(</span><span class="n">window</span><span class="o">.</span><span class="n">layerdef</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">updatelayerlist</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span><span class="o">.</span><span class="n">selectAll</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.editlaminate"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.editlaminate">[docs]</a>    <span class="k">def</span> <span class="nf">editlaminate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">dev_tools.propertyeditor</span> <span class="kn">import</span> <span class="n">PropertyEditor</span>
        <span class="n">dialog</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">builddialog</span><span class="p">(</span>
            <span class="n">PropertyEditor</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">()</span><span class="o">.</span><span class="n">layers</span><span class="p">))</span>
        <span class="n">dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">()</span><span class="o">.</span><span class="n">refreshzvalues</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.sketchlist"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.sketchlist">[docs]</a>    <span class="k">def</span> <span class="nf">sketchlist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">popupcad.widgets.listmanager</span> <span class="kn">import</span> <span class="n">AdvancedSketchListManager</span>
        <span class="n">widget</span> <span class="o">=</span> <span class="n">AdvancedSketchListManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="p">)</span>
        <span class="n">dialog</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">builddialog</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
        <span class="n">dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Sketches&#39;</span><span class="p">)</span>
        <span class="n">dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.subdesigns"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.subdesigns">[docs]</a>    <span class="k">def</span> <span class="nf">subdesigns</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">popupcad.widgets.listmanager</span> <span class="kn">import</span> <span class="n">AdvancedDesignListManager</span>
        <span class="n">widget</span> <span class="o">=</span> <span class="n">AdvancedDesignListManager</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="p">)</span>
        <span class="n">dialog</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">builddialog</span><span class="p">(</span><span class="n">widget</span><span class="p">)</span>
        <span class="n">dialog</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Sub-Designs&#39;</span><span class="p">)</span>
        <span class="n">dialog</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.updatelayerlist"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.updatelayerlist">[docs]</a>    <span class="k">def</span> <span class="nf">updatelayerlist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span><span class="o">.</span><span class="n">linklist</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">()</span><span class="o">.</span><span class="n">layers</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Editor.showcurrentoutput"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.showcurrentoutput">[docs]</a>    <span class="k">def</span> <span class="nf">showcurrentoutput</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">)</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">:</span>
            <span class="n">selected_indeces</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentIndeces2</span><span class="p">()</span>
            <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_indeces</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
                <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="n">selected_indeces</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">selectIndeces</span><span class="p">([(</span><span class="n">ii</span><span class="p">,</span> <span class="n">jj</span><span class="p">)])</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">showcurrentoutput_inner</span><span class="p">(</span><span class="n">ii</span><span class="p">,</span> <span class="n">jj</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Editor.showcurrentoutput_inner"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.showcurrentoutput_inner">[docs]</a>    <span class="k">def</span> <span class="nf">showcurrentoutput_inner</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">deleteall</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">operationoutput</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span>
        <span class="k">except</span> <span class="ne">IndexError</span><span class="p">:</span>
            <span class="k">raise</span>
        <span class="k">except</span> <span class="ne">AttributeError</span><span class="p">:</span>
            <span class="k">raise</span> <span class="n">NoOutput</span><span class="p">()</span>
        <span class="n">selectedlayers</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">(</span>
        <span class="p">)</span><span class="o">.</span><span class="n">layers</span> <span class="k">if</span> <span class="n">item</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">layerlistwidget</span><span class="o">.</span><span class="n">selectedData</span><span class="p">()]</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show2dgeometry3</span><span class="p">(</span><span class="n">operationoutput</span><span class="p">,</span> <span class="n">selectedlayers</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">show3dgeometry3</span><span class="p">(</span><span class="n">operationoutput</span><span class="p">,</span> <span class="n">selectedlayers</span><span class="p">)</span>
    </div>
<div class="viewcode-block" id="Editor.show2dgeometry3"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.show2dgeometry3">[docs]</a>    <span class="k">def</span> <span class="nf">show2dgeometry3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operationoutput</span><span class="p">,</span> <span class="n">selectedlayers</span><span class="p">,):</span>
        <span class="n">display_geometry_2d</span> <span class="o">=</span> <span class="n">operationoutput</span><span class="o">.</span><span class="n">display_geometry_2d</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">deleteall</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="n">selectedlayers</span><span class="p">[::</span><span class="mi">1</span><span class="p">]:</span>
            <span class="k">for</span> <span class="n">geom</span> <span class="ow">in</span> <span class="n">display_geometry_2d</span><span class="p">[</span><span class="n">layer</span><span class="p">]:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">scene</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span>
                <span class="n">geom</span><span class="o">.</span><span class="n">setselectable</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
    </div>
<div class="viewcode-block" id="Editor.show3dgeometry3"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.show3dgeometry3">[docs]</a>    <span class="k">def</span> <span class="nf">show3dgeometry3</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">operationoutput</span><span class="p">,</span> <span class="n">selectedlayers</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_view_3d</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">view_3d</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">update_object</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">()</span><span class="o">.</span><span class="n">zvalue</span><span class="p">,</span><span class="n">operationoutput</span><span class="o">.</span><span class="n">triangles_by_layer</span><span class="p">,</span><span class="n">selectedlayers</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clear3dgeometry</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.clear3dgeometry"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.clear3dgeometry">[docs]</a>    <span class="k">def</span> <span class="nf">clear3dgeometry</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">tris</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">([(</span><span class="n">layer</span><span class="p">,</span> <span class="p">[])</span>
                     <span class="k">for</span> <span class="n">layer</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">()</span><span class="o">.</span><span class="n">layers</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">update_object</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">()</span><span class="o">.</span><span class="n">zvalue</span><span class="p">,</span>
            <span class="n">tris</span><span class="p">,</span>
            <span class="p">[])</span>
    </div>
<div class="viewcode-block" id="Editor.exportLayerSVG"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.exportLayerSVG">[docs]</a>    <span class="k">def</span> <span class="nf">exportLayerSVG</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">popupcad.graphics2d.svg_support</span> <span class="kn">import</span> <span class="n">OutputSelection</span>

        <span class="n">win</span> <span class="o">=</span> <span class="n">OutputSelection</span><span class="p">()</span>
        <span class="n">accepted</span> <span class="o">=</span> <span class="n">win</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">accepted</span><span class="p">:</span>
            <span class="k">return</span>

        <span class="n">selected_indeces</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentIndeces2</span><span class="p">()</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">selected_indeces</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="n">selected_indeces</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">selectIndeces</span><span class="p">([(</span><span class="n">ii</span><span class="p">,</span> <span class="n">jj</span><span class="p">)])</span>

        <span class="n">generic_laminate</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span><span class="o">.</span><span class="n">generic_laminate</span><span class="p">()</span>

        <span class="k">for</span> <span class="n">layernum</span><span class="p">,</span> <span class="n">layer</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">return_layer_definition</span><span class="p">()</span><span class="o">.</span><span class="n">layers</span><span class="p">[::</span><span class="mi">1</span><span class="p">]):</span>
            <span class="n">basename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">get_basename</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#39;_&#39;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">])</span> <span class="o">+</span> <span class="s">&#39;_layer{0:02d}.svg&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">layernum</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
            <span class="n">scene</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">graphics2d</span><span class="o">.</span><span class="n">graphicsscene</span><span class="o">.</span><span class="n">GraphicsScene</span><span class="p">()</span>
            <span class="n">geoms</span> <span class="o">=</span> <span class="p">[</span><span class="n">item</span><span class="o">.</span><span class="n">outputstatic</span><span class="p">(</span><span class="n">brush_color</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">))</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">generic_laminate</span><span class="o">.</span><span class="n">geoms</span><span class="p">[</span><span class="n">layer</span><span class="p">]]</span>
            <span class="p">[</span><span class="n">scene</span><span class="o">.</span><span class="n">addItem</span><span class="p">(</span><span class="n">geom</span><span class="p">)</span> <span class="k">for</span> <span class="n">geom</span> <span class="ow">in</span> <span class="n">geoms</span><span class="p">]</span>
            <span class="n">scene</span><span class="o">.</span><span class="n">renderprocess</span><span class="p">(</span><span class="n">basename</span><span class="p">,</span> <span class="o">*</span><span class="n">win</span><span class="o">.</span><span class="n">acceptdata</span><span class="p">())</span>
</div>
<div class="viewcode-block" id="Editor.closeEvent"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.closeEvent">[docs]</a>    <span class="k">def</span> <span class="nf">closeEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkSafe</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">error_log</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
            <span class="n">event</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">event</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span>
<span class="c">#        popupcad.local_settings.save_yaml(popupcad.local_settings_filename)</span>
</div>
<div class="viewcode-block" id="Editor.checkSafe"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.checkSafe">[docs]</a>    <span class="k">def</span> <span class="nf">checkSafe</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span>
            <span class="bp">self</span><span class="p">,</span>
            <span class="s">&quot;Modified Document&quot;</span><span class="p">,</span>
            <span class="s">&#39;This file has been modified.</span><span class="se">\n</span><span class="s">Do you want to save your&#39;</span>
            <span class="s">&#39;changes?&#39;</span><span class="p">,</span>
            <span class="n">qg</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Save</span> <span class="o">|</span> <span class="n">qg</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Discard</span> <span class="o">|</span> <span class="n">qg</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">temp</span> <span class="o">==</span> <span class="n">qg</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Save</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">elif</span> <span class="n">temp</span> <span class="o">==</span> <span class="n">qg</span><span class="o">.</span><span class="n">QMessageBox</span><span class="o">.</span><span class="n">Cancel</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">False</span>
        <span class="k">return</span> <span class="bp">True</span>
    
<span class="c">#    def preferences(self):</span>
<span class="c">#        import dev_tools.propertyeditor</span>
<span class="c">#        pe = dev_tools.propertyeditor.PropertyEditor(popupcad.local_settings)</span>
<span class="c">#        pe.show()</span>
</div>
<div class="viewcode-block" id="Editor.replace"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.replace">[docs]</a>    <span class="k">def</span> <span class="nf">replace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QDialog</span><span class="p">()</span>
        <span class="n">operationlist</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">widgets</span><span class="o">.</span><span class="n">dragndroptree</span><span class="o">.</span><span class="n">DraggableTreeWidget</span><span class="p">()</span>
        <span class="n">operationlist</span><span class="o">.</span><span class="n">linklist</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">)</span>
        <span class="n">button1</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s">&#39;Ok&#39;</span><span class="p">)</span>
        <span class="n">button2</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QPushButton</span><span class="p">(</span><span class="s">&#39;Cancel&#39;</span><span class="p">)</span>
        <span class="n">layout2</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QHBoxLayout</span><span class="p">()</span>
        <span class="n">layout2</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button1</span><span class="p">)</span>
        <span class="n">layout2</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">button2</span><span class="p">)</span>
        <span class="n">layout3</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">layout3</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">operationlist</span><span class="p">)</span>
        <span class="n">layout3</span><span class="o">.</span><span class="n">addLayout</span><span class="p">(</span><span class="n">layout2</span><span class="p">)</span>
        <span class="n">d</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout3</span><span class="p">)</span>
        <span class="n">button1</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">accept</span><span class="p">)</span>
        <span class="n">button2</span><span class="o">.</span><span class="n">clicked</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">d</span><span class="o">.</span><span class="n">reject</span><span class="p">)</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">d</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">replace_op_refs</span><span class="p">(</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentRefs</span><span class="p">()[</span><span class="mi">0</span><span class="p">],</span>
                <span class="n">operationlist</span><span class="o">.</span><span class="n">currentRefs</span><span class="p">()[</span><span class="mi">0</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reprocessoperations</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.insert_and_replace"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.insert_and_replace">[docs]</a>    <span class="k">def</span> <span class="nf">insert_and_replace</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="nn">popupcad.manufacturing.laminateoperation2</span> <span class="kn">import</span> <span class="n">LaminateOperation2</span>
        <span class="n">operation_ref</span><span class="p">,</span> <span class="n">output_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentRefs</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">operation_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operation_index</span><span class="p">(</span><span class="n">operation_ref</span><span class="p">)</span>
        <span class="n">newop</span> <span class="o">=</span> <span class="n">LaminateOperation2</span><span class="p">({</span><span class="s">&#39;unary&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s">&#39;binary&#39;</span><span class="p">:</span> <span class="p">[]},</span> <span class="s">&#39;union&#39;</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">operation_index</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">newop</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">replace_op_refs</span><span class="p">(</span>
            <span class="p">(</span><span class="n">operation_ref</span><span class="p">,</span> <span class="n">output_index</span><span class="p">),</span> <span class="p">(</span><span class="n">newop</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
        <span class="n">newop</span><span class="o">.</span><span class="n">operation_links</span><span class="p">[</span><span class="s">&#39;unary&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">operation_ref</span><span class="p">,</span> <span class="n">output_index</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">reprocessoperations</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.upgrade"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.upgrade">[docs]</a>    <span class="k">def</span> <span class="nf">upgrade</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">load_design</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">upgrade</span><span class="p">())</span>
        <span class="k">except</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">filetypes</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">UpgradeError</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
            <span class="k">print</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span>
            <span class="k">raise</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">act_autoreprocesstoggle</span><span class="o">.</span><span class="n">isChecked</span><span class="p">():</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">reprocessoperations</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_2d</span><span class="o">.</span><span class="n">zoomToFit</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.download_installer"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.download_installer">[docs]</a>    <span class="k">def</span> <span class="nf">download_installer</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">qg</span><span class="o">.</span><span class="n">QDesktopServices</span><span class="o">.</span><span class="n">openUrl</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">update_url</span><span class="p">)</span>
    </div>
<div class="viewcode-block" id="Editor.save_joint_def"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.save_joint_def">[docs]</a>    <span class="k">def</span> <span class="nf">save_joint_def</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">save_joint_def</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.screenshot_3d"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.screenshot_3d">[docs]</a>    <span class="k">def</span> <span class="nf">screenshot_3d</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">time</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">basic_functions</span><span class="o">.</span><span class="n">return_formatted_time</span><span class="p">()</span>
        <span class="n">filename</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span>
            <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span>
                <span class="n">popupcad</span><span class="o">.</span><span class="n">exportdir</span><span class="p">,</span>
                <span class="s">&#39;3D_screenshot_&#39;</span> <span class="o">+</span>
                <span class="n">time</span> <span class="o">+</span>
                <span class="s">&#39;.png&#39;</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">view_3d</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">grabFrameBuffer</span><span class="p">()</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
    </div>
<div class="viewcode-block" id="Editor.export_laminate"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.export_laminate">[docs]</a>    <span class="k">def</span> <span class="nf">export_laminate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentIndeces2</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span>
        <span class="n">generic</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">csg</span><span class="o">.</span><span class="n">to_generic_laminate</span><span class="p">()</span>
        <span class="n">generic</span><span class="o">.</span><span class="n">saveAs</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.gen_icons"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.gen_icons">[docs]</a>    <span class="k">def</span> <span class="nf">gen_icons</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">raster</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.build_documentation"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.build_documentation">[docs]</a>    <span class="k">def</span> <span class="nf">build_documentation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">build_documentation</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.export_dxf"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.export_dxf">[docs]</a>    <span class="k">def</span> <span class="nf">export_dxf</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentIndeces2</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span>
        <span class="n">generic</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">generic_laminate</span><span class="p">()</span>
        <span class="n">basename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">get_basename</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">])</span>
        <span class="n">generic</span><span class="o">.</span><span class="n">save_dxf</span><span class="p">(</span><span class="n">basename</span><span class="p">)</span>
    </div>
<div class="viewcode-block" id="Editor.export_dxf_layers"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.export_dxf_layers">[docs]</a>    <span class="k">def</span> <span class="nf">export_dxf_layers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentIndeces2</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span>
        <span class="n">generic</span> <span class="o">=</span> <span class="n">output</span><span class="o">.</span><span class="n">generic_laminate</span><span class="p">()</span>
        <span class="n">basename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">get_basename</span><span class="p">()</span> <span class="o">+</span> <span class="s">&#39;_&#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">])</span>
        <span class="n">generic</span><span class="o">.</span><span class="n">save_dxf</span><span class="p">(</span><span class="n">basename</span><span class="p">,</span><span class="bp">True</span><span class="p">)</span>
</div>
<div class="viewcode-block" id="Editor.export_dae"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.export_dae">[docs]</a>    <span class="k">def</span> <span class="nf">export_dae</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentIndeces2</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span>
        <span class="n">output</span><span class="o">.</span><span class="n">generic_laminate</span><span class="p">()</span><span class="o">.</span><span class="n">toDAE</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.export_stl"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.export_stl">[docs]</a>    <span class="k">def</span> <span class="nf">export_stl</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">ii</span><span class="p">,</span> <span class="n">jj</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">operationeditor</span><span class="o">.</span><span class="n">currentIndeces2</span><span class="p">()[</span><span class="mi">0</span><span class="p">]</span>
        <span class="n">output</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">operations</span><span class="p">[</span><span class="n">ii</span><span class="p">]</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="n">jj</span><span class="p">]</span>
        <span class="n">output</span><span class="o">.</span><span class="n">generic_laminate</span><span class="p">()</span><span class="o">.</span><span class="n">toSTL</span><span class="p">()</span>
</div>
<div class="viewcode-block" id="Editor.show_license"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.show_license">[docs]</a>    <span class="k">def</span> <span class="nf">show_license</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="kn">import</span> <span class="nn">sys</span>

        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">sys</span><span class="p">,</span><span class="s">&#39;frozen&#39;</span><span class="p">):</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">localpath</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">popupcad</span><span class="o">.</span><span class="n">localpath</span><span class="p">,</span><span class="s">&#39;../&#39;</span><span class="p">))</span>

        <span class="n">path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">normpath</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">path</span><span class="p">,</span><span class="s">&#39;LICENSE&#39;</span><span class="p">))</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">path</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
            <span class="n">license_text</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">readlines</span><span class="p">()</span>

        <span class="n">w</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QDialog</span><span class="p">()</span>
        <span class="n">le</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QTextEdit</span><span class="p">()</span>
        <span class="n">le</span><span class="o">.</span><span class="n">setText</span><span class="p">(</span><span class="s">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">license_text</span><span class="p">))</span>
        <span class="n">le</span><span class="o">.</span><span class="n">setReadOnly</span><span class="p">(</span><span class="bp">True</span><span class="p">)</span>
        <span class="n">le</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
        <span class="n">layout</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QVBoxLayout</span><span class="p">()</span>
        <span class="n">layout</span><span class="o">.</span><span class="n">addWidget</span><span class="p">(</span><span class="n">le</span><span class="p">)</span>        
        <span class="n">w</span><span class="o">.</span><span class="n">setLayout</span><span class="p">(</span><span class="n">layout</span><span class="p">)</span>
        <span class="n">f</span> <span class="o">=</span> <span class="k">lambda</span><span class="p">:</span> <span class="n">qc</span><span class="o">.</span><span class="n">QSize</span><span class="p">(</span><span class="mi">600</span><span class="p">,</span><span class="mi">400</span><span class="p">)</span>
        <span class="n">w</span><span class="o">.</span><span class="n">sizeHint</span> <span class="o">=</span> <span class="n">f</span>
        <span class="n">w</span><span class="o">.</span><span class="n">exec_</span><span class="p">()</span>
    </div>
<div class="viewcode-block" id="Editor.update_window_title"><a class="viewcode-back" href="../../../popupcad/popupcad.guis.html#popupcad.guis.editor.Editor.update_window_title">[docs]</a>    <span class="k">def</span> <span class="nf">update_window_title</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">basename</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">design</span><span class="o">.</span><span class="n">get_basename</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">setWindowTitle</span><span class="p">(</span><span class="s">&#39;Editor&#39;</span><span class="o">+</span><span class="s">&#39; - &#39;</span><span class="o">+</span><span class="n">basename</span><span class="p">)</span>

</div></div>
<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">app</span> <span class="o">=</span> <span class="n">qg</span><span class="o">.</span><span class="n">QApplication</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
    <span class="n">icons</span> <span class="o">=</span> <span class="n">popupcad</span><span class="o">.</span><span class="n">guis</span><span class="o">.</span><span class="n">icons</span><span class="o">.</span><span class="n">build</span><span class="p">()</span>
    <span class="n">app</span><span class="o">.</span><span class="n">setWindowIcon</span><span class="p">(</span><span class="n">icons</span><span class="p">[</span><span class="s">&#39;printapede&#39;</span><span class="p">])</span>
    <span class="n">mw</span> <span class="o">=</span> <span class="n">Editor</span><span class="p">()</span>
    <span class="n">mw</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="n">mw</span><span class="o">.</span><span class="n">raise_</span><span class="p">()</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="n">app</span><span class="o">.</span><span class="n">exec_</span><span class="p">())</span>
</pre></div>

          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<form class="search" action="../../../search.html" method="get">
  <input type="text" name="q"
   placeholder="type to search" />
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
  <footer id="pagefooter">&copy; 2015, Daniel M. Aukes.

  </footer>

  
  </body>
</html>